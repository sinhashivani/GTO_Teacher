---
phase: 05-expansion-future
plan: 03
type: execute
wave: 3
depends_on: [05-01]
files_modified: [src/components/poker/PokerTable.tsx, src/components/poker/PlayerSeat.tsx, src/components/poker/CommunityCards.tsx, src/components/poker/DebugPanel.tsx]
autonomous: true
requirements: [PH5-MULTIPLAYER, PH5-STREETS, PH5-DEBUG]

must_haves:
  truths:
    - "Table layout supports up to 6 players"
    - "Turn and River cards are revealed with animations"
    - "Debug panel shows real-time engine state"
  artifacts:
    - path: "src/components/poker/DebugPanel.tsx"
      provides: "Developer-only state inspection"
    - path: "src/components/poker/PokerTable.tsx"
      provides: "6-seat responsive layout"
  key_links:
    - from: "src/components/poker/PokerTable.tsx"
      to: "src/components/poker/PlayerSeat.tsx"
      via: "rendering multiple player seats"
---

<objective>
Update the Tavern UI to support 6 players, full street visuals, and a developer debug panel.

Purpose: Visual support for expanded game modes and debugging.
Output: Responsive 6-seat table and debug overlay.
</objective>

<execution_context>
@C:/Users/sinha/.gemini/get-shit-done/workflows/execute-plan.md
@C:/Users/sinha/.gemini/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@src/components/poker/PokerTable.tsx
@src/components/poker/PlayerSeat.tsx
@src/components/poker/CommunityCards.tsx
@.planning/phases/05-expansion-future/05-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Dynamic Seating and Community Cards</name>
  <files>src/components/poker/PokerTable.tsx, src/components/poker/PlayerSeat.tsx, src/components/poker/CommunityCards.tsx</files>
  <action>
    - Update `PokerTable.tsx` to position up to 6 seats around the table using a responsive layout (e.g., 2 top, 2 bottom, 1 left, 1 right).
    - Update `PlayerSeat.tsx` to handle different seat indices and correctly identify the Hero seat.
    - Update `CommunityCards.tsx` to reveal the 4th (Turn) and 5th (River) cards with appropriate animations when the game stage changes.
  </action>
  <verify>
    <automated>MISSING â€” Wave 5 must create UI visual tests</automated>
    <manual>Launch app, set player count to 6 in Lobby (temp mock), and verify seats are positioned correctly without overlapping.</manual>
    <sampling_rate>After task completion</sampling_rate>
  </verify>
  <done>Table supports 6 players; Turn/River cards animate correctly.</done>
</task>

<task type="auto">
  <name>Task 2: Developer Debug Panel</name>
  <files>src/components/poker/DebugPanel.tsx, src/components/poker/GameController.tsx</files>
  <action>
    - Create a new `DebugPanel.tsx` component that renders a semi-transparent, floating overlay (collapsible).
    - Display current `stage`, `activePlayerIndex`, `pot`, `sidePots`, and raw player data (stacks, bets).
    - Add a toggle in `GameController.tsx` or `TavernLayout.tsx` to show/hide this panel (only in development environment).
  </action>
  <verify>
    <automated>None</automated>
    <manual>Open app in dev mode, toggle debug panel, and verify it updates as actions are taken.</manual>
    <sampling_rate>After task completion</sampling_rate>
  </verify>
  <done>Debug panel provides real-time visibility into engine state.</done>
</task>

</tasks>

<verification>
Check table layout for 2, 3, 4, 5, and 6 players. Ensure Turn and River cards appear in the correct slots in the community area.
</verification>

<success_criteria>
- Table layout is usable and aesthetically pleasing for all player counts (2-6).
- 4th and 5th community cards are visible when reached.
- Debug panel correctly reflects the internal state of the game.
</success_criteria>

<output>
After completion, create `.planning/phases/05-expansion-future/05-03-SUMMARY.md`
</output>

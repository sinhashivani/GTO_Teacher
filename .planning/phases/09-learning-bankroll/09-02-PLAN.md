# PLAN: 09-02 - Expanded GTO Coaching & Glossary

Goal: Enhance the coaching system with structured explanations and add a learning glossary popup.

## Proposed Changes

### 1. Coaching Logic (`src/lib/useCoaching.ts`)
- Update `Feedback` interface to be structured:
  ```typescript
  interface Feedback {
    context: { street: string, pot: number, stack: number };
    actionTaken: ActionType;
    recommended: ActionType;
    why: string;
    whatChanges: string;
    confidence: 'baseline' | 'heuristic' | 'lookup';
    alternatives: { type: ActionType, reason: string }[];
  }
  ```
- Expand `evaluateAction` to generate these fields.
- Integrate positional awareness (Hero as SB vs BB).

### 2. Learning Glossary (`src/components/poker/GlossaryDialog.tsx`)
- Create a new dialog component with terms: Pot Odds, Equity, Range, Blockers, Implied Odds.
- Keep definitions concise and pixel-art styled.

### 3. UI: Action Tooltips (`src/components/poker/ActionTooltip.tsx`)
- Implement a compact tooltip that appears near the Hero seat after an action if "Immediate Feedback" is ON.
- Display the summary of the recommendation.

### 4. UI: Round Report Integration (`src/components/poker/RoundReportModal.tsx`)
- Update the report to display the structured feedback for each decision point in the action log.
- Link glossary terms within the "Why" explanations to open the GlossaryDialog.

## Verification Plan

### Manual Verification
- Trigger feedback by making a sub-optimal move.
- Verify tooltip appears with structured info.
- Open the End of Round Report and check the "Action Analysis" for detailed "Why" and "What changes".
- Click a glossary link and verify the popup opens.
